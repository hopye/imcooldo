var win=Ti.UI.createWindow();win.backgroundColor="#ccc",win.open();var view1=Ti.UI.createView({backgroundColor:"red"}),l1=Ti.UI.createLabel({text:"View 1",color:"#fff",width:"auto",height:"auto"});view1.add(l1);var view2=Ti.UI.createView({backgroundColor:"blue"}),l2=Ti.UI.createLabel({text:"Click Me (View 2 - see log)",color:"#fff",width:"auto",height:"auto"});view2.add(l2);var view3=Ti.UI.createView({backgroundColor:"green"}),l3=Ti.UI.createLabel({text:"View 3",color:"#fff",width:"auto",height:"auto"});view3.add(l3);var view4=Ti.UI.createView({backgroundColor:"black"}),l4=Ti.UI.createLabel({text:"View 4",color:"#fff",width:"auto",height:"auto"});view4.add(l4);var scrollView=Ti.UI.createScrollableView({views:[view1,view2,view3,view4],showPagingControl:!0,pagingControlHeight:30,maxZoomScale:2,currentPage:1});win.add(scrollView);var i=1,activeView=view1;scrollView.addEventListener("scroll",function(e){activeView=e.view,i=e.currentPage,Ti.API.info("scroll called - current index "+i+" active view "+activeView)}),scrollView.addEventListener("click",function(e){Ti.API.info("ScrollView received click event, source = "+e.source)}),scrollView.addEventListener("touchend",function(e){Ti.API.info("ScrollView received touchend event, source = "+e.source)});var add=Ti.UI.createButton({title:"Add",style:Ti.UI.iPhone.SystemButtonStyle.BORDERED});add.addEventListener("click",function(){var e=Ti.UI.createView({backgroundColor:"purple"}),i=Ti.UI.createLabel({text:"View "+(scrollView.views.length+1),color:"#fff",width:"auto",height:"auto"});e.add(i),scrollView.addView(e)});var jump=Ti.UI.createButton({title:"Jump",style:Ti.UI.iPhone.SystemButtonStyle.BORDERED});jump.addEventListener("click",function(){i=(scrollView.currentPage+1)%scrollView.views.length,scrollView.currentPage=i});var change=Ti.UI.createButton({title:"Change",style:Ti.UI.iPhone.SystemButtonStyle.BORDERED});change.addEventListener("click",function(){var e=Ti.UI.createView({backgroundColor:"#ff9900"}),t=Ti.UI.createLabel({text:"View (Changed) "+(i+1),color:"#fff",height:"auto",width:"auto"});e.add(t);for(var o=[],r=0;scrollView.views.length>r;r++)r==i?(Ti.API.info("SETTING TO NEW VIEW "+r),o[r]=e):(Ti.API.info("SETTING TO OLD VIEW "+r),o[r]=scrollView.views[r]);scrollView.views=o});var left=Ti.UI.createButton({backgroundColor:"transparent",title:"<"});left.addEventListener("click",function(){0!==i&&(i--,scrollView.scrollToView(i))});var right=Ti.UI.createButton({backgroundColor:"transparent",title:">"});right.addEventListener("click",function(){i!==scrollView.views.length-1&&(i++,scrollView.scrollToView(scrollView.views[i]))});var flexSpace=Ti.UI.createButton({systemButton:Ti.UI.iPhone.SystemButton.FLEXIBLE_SPACE}),toolbar=Ti.UI.createView({bottom:10,height:50,backgroundColor:"#333333",borderRadius:10,opacity:.7,left:10,zIndex:99,right:10}),floater=Ti.UI.createView({width:320,height:"auto",backgroundColor:"transparent"});toolbar.add(floater),left.left=10,left.width=35,change.left=50,change.width=70,change.height=35,add.left=130,add.width=70,add.height=35,jump.left=210,jump.width=70,jump.height=35,right.right=10,right.width=35,floater.add(left),floater.add(change),floater.add(add),floater.add(jump),floater.add(right),win.add(toolbar);